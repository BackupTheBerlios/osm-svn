<?xml version="1.0" encoding="ISO-8859-1"?>

<document>
  <properties>
    <author email="mcconnell@osm.net">Stephen McConnell</author>
    <title>Building on the Sholders of Giants</title>
  </properties>

  <body>

    <section name="Building on the Sholders of Giants">

      <subsection name="Tutorial Objective">

        <p>
        This tutorial aims to demonstrate the reuse of existing component
        deployment definitions. The demonstration uses three projects involving
        an API, an implementation of that API, and a demo component and associated 
        testcase.  The API is used by both the implementation and the demo and 
        the implementation is plugged into our demo component at runtime.
        </p>
        
      </subsection>
      
      <subsection name="Project Definitions">
      
        <p>
        The clock API is defined in a separate project so that we can reuse the
        service interface <a href="Clock.java.html">org.acme.Clock</a> in our 
        demo and implementation projects.
        </p>
        
            <pre><![CDATA[
  <project name="acme-clock-api" basedir="api">
    <types>
      <type id="jar"/>
    </types>
  </project>
            ]]></pre>

        <p>
        The <tt>acme-clock-impl</tt> project contains or clock 
        implementation <a href="DefaultClock.java.html">org.acme.scheduler.DefaultClock</a> 
        including the deployment information as the produced part artifact.  
        The project definition includes a runtime dependency on the 
        <tt>acme-clock-api</tt> API.
        </p>
        
        <pre><![CDATA[
  <project name="acme-clock-impl" basedir="clock">
    <types>
      <type id="jar"/>
      <component xmlns="link:xsd:dpml/lang/dpml-component#1.0" 
           type="org.acme.scheduler.DefaultClock" alias="true"/>
    </types>
    <dependencies>
      <runtime>
        <include key="acme-clock-api"/>
      </runtime>
    </dependencies>
  </project>
        ]]></pre>

        <p>
        The <tt>acme-clock-demo</tt> project is an example of a 
        component definition that incorporates the clock implementation
        as an internal part and references the implementation through
        the service API. 
        </p>
        
        <pre><![CDATA[
  <project name="acme-clock-demo" basedir="demo">
    <types>
      <type id="jar"/>
      <component xmlns="link:xsd:dpml/lang/dpml-component#1.0"
           type="org.acme.demo.Demo">
        <parts>
          <import key="clock" uri="link:part:org/acme/import/acme-clock-impl"/>
        </parts>
      </component>
    </types>
    <dependencies>
      <build>
        <include key="acme-clock-impl"/>
      </build>
      <runtime>
        <include key="acme-clock-api"/>
        <include ref="dpml/util/dpml-logging-api"/>
      </runtime>
      <test>
        <include ref="ant/ant-junit"/>
        <include ref="dpml/transit/dpml-transit-main"/>
      </test>
    </dependencies>
  </project>
        ]]></pre>
            
      </subsection>
      
      <subsection name="Example">
      
        <p>
        </p>
      
      </subsection>
      
      <subsection name="Summary">
      
        <p>
        </p>

      </subsection>

    </section>

  </body>
</document>

