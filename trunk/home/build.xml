<?xml version="1.0" encoding="UTF-8" ?>

<project name="osm-home" default="install" basedir="." 
    xmlns:transit="antlib:net.dpml.transit"
    xmlns:x="dpml:depot" >

  <transit:import uri="local:template:dpml/tools/standard"/>

  <target name="prepare" depends="standard.prepare">
  
    <property name="001.src.dir" location="${basedir}/../tutorial/components/001"/>
    <property name="local.001.docs.dir" location="target/docs/training/components/001"/>
    <mkdir dir="${local.001.docs.dir}"/>
    <copy toDir="${local.001.docs.dir}" flatten="true">
      <fileset dir="${001.src.dir}/target/reports/src">
        <include name="**/*.html"/>
      </fileset>
    </copy>

    <property name="002.src.dir" location="${basedir}/../tutorial/components/002"/>
    <property name="local.002.docs.dir" location="target/docs/training/components/002"/>
    <mkdir dir="${local.002.docs.dir}"/>
    <copy toDir="${local.002.docs.dir}" flatten="true">
      <fileset dir="${002.src.dir}/target/reports/src">
        <include name="**/*.html"/>
      </fileset>
    </copy>
    
    <property name="003.src.dir" location="${basedir}/../tutorial/components/003"/>
    <property name="local.003.docs.dir" location="target/docs/training/components/003"/>
    <mkdir dir="${local.003.docs.dir}"/>
    <copy toDir="${local.003.docs.dir}" flatten="true">
      <fileset dir="${003.src.dir}/target/reports/src">
        <include name="**/*.html"/>
      </fileset>
    </copy>
    
    <property name="004.src.dir" location="${basedir}/../tutorial/components/004"/>
    <property name="local.004.docs.dir" location="target/docs/training/components/004"/>
    <mkdir dir="${local.004.docs.dir}"/>
    <copy toDir="${local.004.docs.dir}" flatten="true">
      <fileset dir="${004.src.dir}/target/reports/src">
        <include name="**/*.html"/>
      </fileset>
    </copy>
    
    <property name="005.src.dir" location="${basedir}/../tutorial/components/005"/>
    <property name="local.005.docs.dir" location="target/docs/training/components/005"/>
    <mkdir dir="${local.005.docs.dir}"/>
    <copy toDir="${local.005.docs.dir}" flatten="true">
      <fileset dir="${005.src.dir}/target/reports/src">
        <include name="**/*.html"/>
      </fileset>
    </copy>
    
    <property name="006.src.dir" location="${basedir}/../tutorial/components/006"/>
    <property name="local.006.docs.dir" location="target/docs/training/components/006"/>
    <mkdir dir="${local.006.docs.dir}"/>
    <copy toDir="${local.006.docs.dir}" flatten="true">
      <fileset dir="${006.src.dir}/target/reports/src">
        <include name="**/*.html"/>
      </fileset>
    </copy>
    
    <property name="lookup.src.dir" location="${basedir}/../tutorial/components/lookup"/>
    <property name="local.lookup.docs.dir" location="target/docs/training/components/lookup"/>
    <mkdir dir="${local.lookup.docs.dir}"/>
    <copy toDir="${local.lookup.docs.dir}" flatten="true">
      <fileset dir="${lookup.src.dir}/target/reports/src">
        <include name="**/*.html"/>
      </fileset>
    </copy>
    
    <property name="lifestyle.src.dir" location="${basedir}/../tutorial/components/lifestyle"/>
    <property name="local.lifestyle.docs.dir" location="target/docs/training/components/lifestyle"/>
    <mkdir dir="${local.lifestyle.docs.dir}"/>
    <copy toDir="${local.lifestyle.docs.dir}" flatten="true">
      <fileset dir="${lifestyle.src.dir}/target/reports/src">
        <include name="**/*.html"/>
      </fileset>
    </copy>
    
    <property name="transient.src.dir" location="${basedir}/../tutorial/components/transient"/>
    <property name="local.transient.docs.dir" location="target/docs/training/components/transient"/>
    <mkdir dir="${local.transient.docs.dir}"/>
    <copy toDir="${local.transient.docs.dir}" flatten="true">
      <fileset dir="${transient.src.dir}/target/reports/src">
        <include name="**/*.html"/>
      </fileset>
    </copy>
    
    <property name="thread.src.dir" location="${basedir}/../tutorial/components/thread"/>
    <property name="local.thread.docs.dir" location="target/docs/training/components/thread"/>
    <mkdir dir="${local.thread.docs.dir}"/>
    <copy toDir="${local.thread.docs.dir}" flatten="true">
      <fileset dir="${thread.src.dir}/target/reports/src">
        <include name="**/*.html"/>
      </fileset>
    </copy>
    
    <property name="singleton.src.dir" location="${basedir}/../tutorial/components/singleton"/>
    <property name="local.singleton.docs.dir" location="target/docs/training/components/singleton"/>
    <mkdir dir="${local.singleton.docs.dir}"/>
    <copy toDir="${local.singleton.docs.dir}" flatten="true">
      <fileset dir="${singleton.src.dir}/target/reports/src">
        <include name="**/*.html"/>
      </fileset>
    </copy>
    
    <property name="state.src.dir" location="${basedir}/../tutorial/components/state"/>
    <property name="local.state.docs.dir" location="target/docs/training/components/state"/>
    <mkdir dir="${local.state.docs.dir}"/>
    <copy toDir="${local.state.docs.dir}" flatten="true">
      <fileset dir="${state.src.dir}/target/reports/src">
        <include name="**/*.html"/>
      </fileset>
    </copy>
    
    <property name="type.src.dir" location="${basedir}/../tutorial/components/type"/>
    <property name="local.type.docs.dir" location="target/docs/training/components/type"/>
    <mkdir dir="${local.type.docs.dir}"/>
    <copy toDir="${local.type.docs.dir}" flatten="true">
      <fileset dir="${type.src.dir}/target/reports/src">
        <include name="**/*.html"/>
      </fileset>
    </copy>
  </target>

  <target name="build" depends="standard.build">
    <x:docs/>
    <copy file="${basedir}/etc/docs/styles/style.css" 
      toFile="${basedir}/target/docs/styles/style.css" overwrite="true"/>
  </target>

</project>

